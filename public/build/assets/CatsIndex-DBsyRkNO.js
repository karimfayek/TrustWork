import{a as i,r as n,b as o,j as e,H as h,L as c}from"./app-BELKTjV-.js";import{A as f}from"./AuthenticatedLayout-CCngwH8r.js";import{P as g}from"./Pagination-Dzjwi2gS.js";import"./ApplicationLogo-DqDhmsPc.js";import"./ResponsiveNavLink-D6BvRnI1.js";import"./transition-DTTrYAim.js";function D({categories:r}){const d=i().props.auth.user,{posts:b,filters:m}=i().props;console.log(r,"categories");const[a,x]=n.useState(m.search||""),p=a!==""?1:r.current_page;n.useEffect(()=>{const s=setTimeout(()=>{o.get(route("categories.index"),{search:a,page:p||1},{preserveState:!0,replace:!0})},900);return()=>clearTimeout(s)},[a]);const u=(s,t)=>{s.preventDefault(),window.confirm("هل أنت متأكد ؟")&&o.delete(route("categories.destroy",{id:t}))};return e.jsxs(f,{children:[e.jsx(h,{title:"Admin Dashboard"}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"تصنيفات المنتجات"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-2 md:gap-4 w-full md:w-auto",children:[e.jsx("input",{type:"text",value:a,onChange:s=>x(s.target.value),placeholder:" بحث ..  ",className:"px-4 py-2 border rounded w-full md:w-64"}),e.jsx(c,{href:route("categories.create"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-md shadow text-center",children:"+ إنشاء تصنيف جديد"})]})]}),e.jsxs("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{className:"text-right",children:[e.jsx("th",{className:"px-6 py-3",children:"اسم التصنيف"}),e.jsx("th",{className:"px-6 py-3",children:"الخيارات"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[s.parent&&s.parent.name+"/",s.name]}),e.jsxs("td",{className:"px-6 py-4 space-x-2 rtl:space-x-reverse",children:[e.jsx(c,{href:route("categories.edit",s.id),className:"mb-2 inline-block bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-md text-xs font-medium",children:"تعديل"}),["admin"].some(t=>{var l;return(l=d==null?void 0:d.rolesnames)==null?void 0:l.includes(t)})&&e.jsx(e.Fragment,{children:e.jsx("button",{onClick:t=>u(t,s.id),className:"inline-block bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-xs font-medium",children:"مسح"})})]})]},s.id))})]}),e.jsx(g,{links:r.links})]})]})]})}export{D as default};
