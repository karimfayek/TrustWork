import{r as l,j as e,b as p}from"./app-DM1yzmg1.js";function f({amountOrig:n,user_id:i,advances:o}){console.log(o,"advances");const[u,a]=l.useState(!1),[s,r]=l.useState(n),[c,m]=l.useState(""),x=()=>{if(s>n||s<1){alert("ادخل قيمه اكبر من واحد واقل من المبلغ المتبقى من السلفه");return}p.post(route("admin.advance.settlement"),{amount:s,user_id:i,advance_id:c},{preserveScroll:!0,onSuccess:()=>{a(!1),r(0)}})};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>a(!0),className:"text-red-500 hover:underline text-sm",children:"🗑 تسوية"}),u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"   مبلغ التسوية"}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded mb-4",value:s,min:1,max:n,onChange:t=>r(t.target.value)}),e.jsxs("select",{className:"w-full p-2 border rounded mb-4",name:"advance_id",id:"advance_id",value:c,onChange:t=>m(t.target.value),children:[e.jsx("option",{value:"",children:"اختر العهدة"}),o.map(t=>{var d;return e.jsxs("option",{value:t.id,children:[t.amount,"- ",t.note," - ",((d=t.project)==null?void 0:d.name)||"اخرى"]},t.id)})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 px-4 py-2 rounded",children:"إلغاء"}),e.jsx("button",{onClick:x,className:"bg-green-500 text-white px-4 py-2 rounded",children:"تأكيد"})]})]})})]})}export{f as default};
