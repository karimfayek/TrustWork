import{a as v,u as y,j as e,H as b}from"./app-k5SopBD2.js";import{I as r}from"./InputLabel-CXRzBChv.js";import{T as n}from"./TextInput-LYJo6PTO.js";import{P as f}from"./PrimaryButton-Bolb70pk.js";import{I as m}from"./InputError-BMKsbAx7.js";import{A as N}from"./AuthenticatedLayout-Gwblcdpo.js";import"./ApplicationLogo-DU4WzsOm.js";import"./ResponsiveNavLink-Da99mX_u.js";import"./transition-C9FumlRJ.js";function P({roles:c}){const i=v().props.auth.user,{data:s,setData:l,post:u,processing:h,reset:x,errors:t}=y({name:"",final_salary:"",base_salary:"",email:"",password:"",role:"",phone:"",hire_date:"",offdayestype:"",must_change_password:!1,roles:[]}),j=a=>{a.preventDefault(),u(route("admin.user.store"),{onSuccess:()=>x()})},p=a=>{const o=Array.from(a.target.selectedOptions,d=>d.value);l(d=>({...d,roles:o}))},g=a=>{isNaN(a)?l("final_salary",a):l(o=>({...o,final_salary:a,base_salary:a*.65}))};return e.jsxs(N,{children:[e.jsx(b,{title:"انشاء موظف "}),e.jsxs("div",{className:" px-6 py-8 bg-white rounded shadow",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"انشاء موظف "}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",value:"اسم الموظف"}),e.jsx(n,{id:"name",type:"text",value:s.name,className:"mt-1 block w-full",onChange:a=>l("name",a.target.value)}),e.jsx(m,{message:t.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",value:"  الايميل"}),e.jsx(n,{id:"email",type:"text",value:s.email,className:"mt-1 block w-full",onChange:a=>l("email",a.target.value)}),e.jsx(m,{message:t.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"phone",value:"رقم التليفون "}),e.jsx(n,{id:"phone",type:"text",value:s.phone,className:"mt-1 block w-full",onChange:a=>l("phone",a.target.value)}),e.jsx(m,{message:t.phone,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"hire_date",value:"تاريخ التعيين  "}),e.jsx(n,{id:"hire_date",type:"date",value:s.hire_date,className:"mt-1 block w-full",onChange:a=>l("hire_date",a.target.value)}),e.jsx(m,{message:t.hire_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"role",value:" role"}),e.jsx("select",{multiple:!0,value:s.roles,onChange:p,className:"w-1/2 border rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mt-1 block ",children:c&&c.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))}),e.jsx(m,{message:t.roles,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"password",value:"  الباسورد"}),e.jsx(n,{id:"password",type:"text",value:s.password,className:"mt-1 block w-full",onChange:a=>l("password",a.target.value)}),e.jsx(m,{message:t.password,className:"mt-2"})]}),["acc","admin"].some(a=>{var o;return(o=i==null?void 0:i.rolesnames)==null?void 0:o.includes(a)})&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"final_salary",value:"الراتب النهائى"}),e.jsx(n,{id:"final_salary",type:"number",onWheel:a=>a.target.blur(),value:s.final_salary,className:"mt-1 block w-full",onChange:a=>g(a.target.value)}),e.jsx(m,{message:t.final_salary,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"base_salary",value:"الراتب الاساسى"}),e.jsx(n,{id:"base_salary",type:"number",onWheel:a=>a.target.blur(),value:s.base_salary,className:"mt-1 block w-full",onChange:a=>l("base_salary",a.target.value),readOnly:!0}),e.jsx(m,{message:t.base_salary,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"base_salary",value:" المتغير"}),e.jsx(n,{id:"base_salary",type:"number",onWheel:a=>a.target.blur(),value:Number(s.final_salary)-Number(s.base_salary),className:"mt-1 block w-full",readOnly:!0}),e.jsx(m,{message:t.base_salary,className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("label",{className:"flex items-center",children:e.jsxs("select",{value:s.offdayestype,required:!0,onChange:a=>l("offdayestype",a.target.value),className:"w-full",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"ايام الاجازات"}),e.jsx("option",{value:"1",children:" جمعه"}),e.jsx("option",{value:"2",children:" جمعه + سبت"})]})})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.must_change_password,onChange:a=>l("must_change_password",a.target.checked)}),e.jsx("span",{className:"mr-2 text-sm text-gray-600",children:"تغيير كلمة السر عند أول دخول"})]})}),e.jsx("div",{children:e.jsx(f,{className:"w-full justify-center",disabled:h,children:"انشاء الموظف"})})]})]})]})}export{P as default};
