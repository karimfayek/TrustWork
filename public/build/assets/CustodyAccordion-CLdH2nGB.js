import{r,j as e,b as c}from"./app-D9iPPawn.js";import j from"./ExpenseTimeline-zRDovtTH.js";function g({custody:s,amountOrig:n,user_id:x,advanceId:m}){var d;const[l,p]=r.useState(!1),[u,a]=r.useState(!1),[t,o]=r.useState(n),h=()=>{if(t>n||t<1){alert("Ø§Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ù‡ Ø§ÙƒØ¨Ø± Ù…Ù† ÙˆØ§Ø­Ø¯ ÙˆØ§Ù‚Ù„ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚Ù‰ Ù…Ù† Ø§Ù„Ø³Ù„ÙÙ‡");return}c.post(route("admin.advance.settlement"),{amount:t,user_id:x,advance_id:m},{preserveScroll:!0,onSuccess:()=>{a(!1),o(0),c.reload()}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-xl",children:[e.jsxs("button",{onClick:()=>p(!l),className:"w-full p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",style:{color:s.is_opened?"red":"green"},children:["Ø¹Ù‡Ø¯Ø© #",(d=s.project)==null?void 0:d.name,"-"," ",s.is_opened?"Ù…ÙØªÙˆØ­Ø©":"Ù…ØºÙ„Ù‚Ø©"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.date," â€¢ ",s.amount," EGP"]}),s.is_opened&&e.jsx("button",{onClick:i=>a(!0),className:"text-red-500 hover:underline text-sm",children:"ðŸ—‘ ØªØ³ÙˆÙŠØ©"})]}),e.jsx("span",{children:l?"âˆ’":"+"})]}),l&&e.jsx("div",{className:"p-4 border-t space-y-4",children:e.jsx(j,{expenses:s.expenses})})]}),u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:[" ","Ù…Ø¨Ù„Øº Ø§Ù„ØªØ³ÙˆÙŠØ©"]}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded mb-4",value:t,min:1,max:n,onChange:i=>o(i.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(!1),className:"bg-gray-200 px-4 py-2 rounded",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:h,className:"bg-green-500 text-white px-4 py-2 rounded",children:"ØªØ£ÙƒÙŠØ¯"})]})]})})]})}export{g as default};
