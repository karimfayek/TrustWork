import{r as a,j as s}from"./app-DFR0j93C.js";import f from"./StatsBar-ChaNgOXI.js";import n from"./EmployeeCard-B2OMESIp.js";import j from"./EmployeeDrawer-B3GmERwt.js";import{A as w}from"./AuthenticatedLayout-Bc2fyraV.js";import b from"./EmployeeReportView-CwMJEcYF.js";import"./CustodyAccordion-IkP6Bg-9.js";import"./ExpenseTimeline-A4HbefMw.js";import"./ApplicationLogo-A3SkbZSN.js";import"./ResponsiveNavLink-tUVBmEgr.js";import"./transition-DRuHvXgM.js";function Q({employees:o,totalExpenses:p,openCustodiesCount:m,totalAdvances:u}){const[r,i]=a.useState("cards"),[x,l]=a.useState(null),g=o.filter(e=>e.advances.some(t=>t.is_opened===!0)),h=o.filter(e=>e.advances.every(t=>t.is_opened===!1)).sort((e,t)=>t.total_advances-e.total_advances),[d,y]=a.useState(""),c=g.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())),C=h.filter(e=>e.name.toLowerCase().includes(d.toLowerCase()));return r==="report"?s.jsx(b,{employees:o}):s.jsx(w,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(f,{employees:o,totalExpenses:p,openCustodiesCount:m,totalAdvances:u}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i("cards"),className:`px-4 py-2 rounded-lg border 
      ${r==="cards"?"bg-blue-600 text-white":"bg-white"}`,children:"Cards"}),s.jsx("button",{onClick:()=>i("report"),className:`px-4 py-2 rounded-lg border 
      ${r==="report"?"bg-blue-600 text-white":"bg-white"}`,children:"تقرير"})]}),s.jsx("input",{type:"text",onChange:e=>y(e.target.value),className:"w-full md:w-1/3 border rounded-lg px-4 py-2",placeholder:"Search employee..."}),c.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(e=>s.jsx(n,{className:"bg-red-100",employee:e,onClick:()=>l(e)},e.id))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:C.map(e=>s.jsx(n,{className:"bg-green-100",employee:e,onClick:()=>l(e)},e.id))}),s.jsx(j,{employee:x,onClose:()=>l(null)})]})})}export{Q as default};
