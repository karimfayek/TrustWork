import{r as d,j as e,b as c}from"./app-Jg-29AV2.js";function v({users:n,projects:u,showManual:m,customers:t}){const[s,i]=d.useState({user_id:"",from:new Date().toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),[a,r]=d.useState({user_id:"",project:"",inOut:"",type:"internal",customer:"",customer_id:"",check_in_time:"",check_out_time:""}),x=l=>{l.preventDefault(),c.get(route("attendance.filter"),s,{preserveState:!0,replace:!1})},h=(l,p)=>{l.preventDefault();const o={...a,customer:a.type!=="external"?"":a.customer};c.post(route("check.manual"),o,{preserveState:!0,replace:!0}),console.log("Sending payload: ",o)};return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("form",{onSubmit:x,className:"bg-white shadow rounded p-4 mb-8 space-y-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-600",children:[" ","عرض مخصص"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{htmlFor:"from",className:"mb-2",children:[" ","اختر الموظف"]}),e.jsxs("select",{className:"border rounded p-2",value:s.user_id,onChange:l=>i({...s,user_id:l.target.value}),children:[e.jsx("option",{value:"",children:"اختر الموظف"}),n.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"من تاريخ"}),e.jsx("input",{required:!0,className:"border rounded p-2",type:"date",value:s.from,onChange:l=>i({...s,from:l.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"الى تاريخ"}),e.jsx("input",{required:!0,className:"border rounded p-2",type:"date",value:s.to,onChange:l=>i({...s,to:l.target.value})})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"فلتر"})]}),m&&e.jsxs("form",{onSubmit:h,className:"bg-white shadow rounded p-4 mb-8 space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-600",children:"تسجيل الحضور والانصراف يدويا"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"اختر الموظف"}),e.jsxs("select",{required:!0,className:"border rounded p-2",value:a.user_id,onChange:l=>r({...a,user_id:l.target.value}),children:[e.jsx("option",{value:"",children:"اختر الموظف"}),n.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"اختر المكان"}),e.jsxs("select",{value:a.type,required:!0,onChange:l=>r({...a,type:l.target.value}),className:"border rounded p-2",children:[e.jsx("option",{value:"internal",children:"داخل الشركة"}),e.jsx("option",{value:"external",children:"خارج الشركة"}),e.jsx("option",{value:"project",children:"مشروع"}),e.jsx("option",{value:"visit",children:"زيارة"})]})]}),a.type==="project"&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"اختر المشروع"}),e.jsxs("select",{required:!0,className:"border rounded p-2",value:a.project,onChange:l=>r({...a,project:l.target.value}),children:[e.jsx("option",{value:"",children:"اختر المشروع"}),u.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),a.type==="visit"&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"اختر العميل"}),e.jsxs("select",{required:!0,className:"border rounded p-2",value:a.customer_id,onChange:l=>r({...a,customer_id:l.target.value}),children:[e.jsx("option",{value:"",children:"اختر العميل"}),t==null?void 0:t.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})]}),a.type==="external"&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"اسم العميل"}),e.jsx("input",{type:"text",value:a.customer,required:!0,className:"border rounded p-2",onChange:l=>r({...a,customer:l.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"النوع"}),e.jsxs("select",{required:!0,className:"border rounded p-2",value:a.inOut,onChange:l=>r({...a,inOut:l.target.value}),children:[e.jsx("option",{value:"",children:"اختر "}),e.jsx("option",{value:"in",children:"حضور"}),e.jsx("option",{value:"out",children:"انصراف"})]})]}),a.inOut==="in"&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"تاريخ ووقت الحضور:"}),e.jsx("input",{required:!0,type:"datetime-local",value:a.check_in_time,onChange:l=>r({...a,check_in_time:l.target.value}),className:"border rounded p-2"})]}),a.inOut==="out"&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"from",className:"mb-2",children:"تاريخ ووقت الانصراف:"}),e.jsx("input",{required:!0,type:"datetime-local",value:a.check_out_time,onChange:l=>r({...a,check_out_time:l.target.value}),className:"border rounded p-2"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"تسجيل"})]})]})}export{v as default};
