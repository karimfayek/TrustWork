import{r as x,j as e,R as h,L as o,a as p,H as y}from"./app-k5SopBD2.js";import{A as u}from"./AuthenticatedLayout-Gwblcdpo.js";import{h as g}from"./HandelDelete-dDVG80kK.js";import"./ApplicationLogo-DU4WzsOm.js";import"./ResponsiveNavLink-Da99mX_u.js";import"./transition-C9FumlRJ.js";const m=({options:c})=>{const[t,s]=x.useState(!1),l=x.useRef(null);x.useEffect(()=>{const a=d=>{l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const i=()=>{s(!t)};return e.jsxs("div",{className:"relative inline-block text-right",ref:l,children:[e.jsx("button",{onClick:i,className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-200 focus:outline-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})}),t&&e.jsx("div",{className:"z-10 origin-top-right absolute left-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsx("div",{className:"py-1",role:"menu",children:c.map(a=>e.jsxs(h.Fragment,{children:[a.type==="link"&&e.jsx(o,{href:a.href,className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:a.label},a.label),a.type==="button"&&e.jsx("button",{onClick:a.onClick,className:"block w-full text-right px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:a.label},a.label)]}))})})]})};function k({users:c}){const t=p().props.auth.user;return e.jsxs(u,{children:[e.jsx(y,{title:"Admin Dashboard"}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"  الموظفين"}),e.jsx(o,{href:route("admin.user.create"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-md shadow",children:"+ إنشاء موظف جديد"})]}),e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{className:"text-right",children:[e.jsx("th",{className:"px-6 py-3 ",children:"اسم الموظف"}),e.jsx("th",{className:"px-6 py-3 ",children:" رقم التليفون"}),["admin"].some(s=>{var l;return(l=t==null?void 0:t.rolesnames)==null?void 0:l.includes(s)})&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-6 py-3 ",children:"المرتب الاساسي"}),e.jsx("th",{className:"px-6 py-3 ",children:"المرتب المتغير"}),e.jsx("th",{className:"px-6 py-3 ",children:"المرتب النهائي"})]}),e.jsx("th",{className:"px-6 py-3 ",children:"الخيارات"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(s=>{var l,i,a,d;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:s.name}),e.jsx("td",{className:"px-6 py-4",children:s.phone}),["admin"].some(r=>{var n;return(n=t==null?void 0:t.rolesnames)==null?void 0:n.includes(r)})&&e.jsxs(e.Fragment,{children:[e.jsx("td",{className:"px-6 py-4 text-gray-600",children:(l=s.salary)==null?void 0:l.base_salary}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:((i=s.salary)==null?void 0:i.final_salary)-((a=s.salary)==null?void 0:a.base_salary)}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:(d=s.salary)==null?void 0:d.final_salary})]}),e.jsx("td",{className:"px-6 py-4 space-x-2 rtl:space-x-reverse",children:["admin"].some(r=>{var n;return(n=t==null?void 0:t.rolesnames)==null?void 0:n.includes(r)})?e.jsx(m,{options:[{label:" عرض",type:"link",href:route("admin.user.edit",s.id)},{label:"طباعة راتب",type:"link",href:route("admin.user.salary",s.id)},{label:" مسح",onClick:r=>g(r,s.id,"admin.user.delete"),type:"button"}]}):e.jsx(m,{options:[{label:" عرض",type:"link",href:route("admin.user.edit",s.id)}]})})]},s.id)})})]})})]})]})}export{k as default};
