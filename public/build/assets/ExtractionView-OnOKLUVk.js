import{a as w,j as e,L,R as U}from"./app-CYJkVFrR.js";import{A as q}from"./ApplicationLogo-BR7co1sH.js";import{A as R}from"./AuthenticatedLayout-DGGPMnE7.js";import"./ResponsiveNavLink-CvukAscv.js";import"./transition-DUly75D_.js";function P({project:j,extraction:i}){const n=w().props.auth.user,r=i.type,g=i.supply,a=i.isnotinclusive,y=i.partial_number,F=i.date,N=j.customer_name,_=j.project_code,l=i.items,t=i.deductions_json,c=l.reduce((s,p)=>s+parseFloat(p.total),0),d=a?c:!g&&t.vat>0?c/1.05:c,o=a?0:d/100*t.vat,u=d/100*t.profit_tax,b=c/100*t.social_insurance,m=c/100*t.initial_insurance,x=c/100*t.other_tax,h=t.previous_payments,S=t.advance_payment,v=a?"":"خصم",f=a?c-u-b-m-h-S+o+x:o+d-u-b-m-x-h-S,D={partial:"جاري ",final:" ختامي",supply:" جارى تشوينات",delevery:"  اذن تسليم",ir:" IR",mir:" MIR",qs:" QS"};return console.log(r!=="delevery","type"),e.jsx(R,{children:e.jsxs("div",{className:" mx-auto bg-white p-6 rounded-2xl  text-gray-800",children:[e.jsx(L,{href:"/",children:e.jsx(q,{className:"float-left w-[8rem]"})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"اسم المشروع:"})," ",j.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"اسم العميل:"})," ",N]}),e.jsxs("p",{children:[e.jsx("strong",{children:"كود المشروع:"})," ",_]}),r==="delevery"&&e.jsxs("p",{children:[e.jsx("strong",{children:" سيريال:"})," ",i.id]}),r!=="delevery"&&r!=="report"&&r!=="qs"&&r!=="ir"&&r!=="mir"&&e.jsxs("p",{children:[e.jsx("strong",{children:" مستخلص:"})," ",D[r]," ",e.jsx("i",{children:y})," ",i.supply===1&&e.jsx("i",{children:"تشوينات"})," "]}),r==="delevery"&&e.jsxs("p",{className:"text-center text-xl",children:[e.jsx("strong",{children:" اذن تسليم"})," "]}),r==="report"&&e.jsxs("p",{className:"text-center text-xl",children:[e.jsx("strong",{children:" محضر استلام موقع "})," "]}),e.jsxs("p",{children:[e.jsx("strong",{children:"تاريخ الطلب:"})," ",F]})]}),e.jsxs("div",{className:"mb-[100px]",children:[e.jsx("h2",{className:"text-xl font-semibold border-b pb-2 mb-2",children:"البنود"}),e.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[e.jsxs("thead",{className:"bg-gray-100",children:[e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"م"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"بيان الأعمال"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"الوحــدة"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"كمية العقد"}),(r==="delevery"||r==="report"||r==="mir")&&e.jsx(e.Fragment,{children:e.jsxs("th",{className:"p-2 border",colSpan:"3",children:[(r==="delevery"||r==="report")&&e.jsx(e.Fragment,{children:"كميه التسليم"}),r==="mir"&&e.jsx(e.Fragment,{children:"كميه الفحص"})]})}),r!=="delevery"&&r!=="report"&&r!=="qs"&&r!=="ir"&&r!=="mir"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"p-2 border",colSpan:"3",children:"الكمية"}),n.email!=="sherok@trustits.net"&&e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"الفئة"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"نسبة الصرف"}),n.email!=="sherok@trustits.net"&&e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"إجمالي المبلغ"})]})]}),r!=="delevery"&&r!=="report"&&r!=="qs"&&r!=="ir"&&r!=="mir"&&e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",children:" السابق"}),e.jsx("th",{className:"p-2 border",children:" الحالي"}),e.jsxs("th",{className:"p-2 border",children:[" ","الإجمالي"]})]})]}),e.jsxs("tbody",{children:[l==null?void 0:l.map((s,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border text-right",children:p+1}),e.jsx("td",{className:"p-2 border text-right",children:s.title}),e.jsx("td",{className:"p-2 border text-center",children:s.unit==="meter"?"MTR":s.unit==="number"?"NUM":s.unit==="ls"?"LS":s.unit}),e.jsx("td",{className:"p-2 border text-center",children:Number(s.quantity).toFixed(0)}),(r==="delevery"||r==="report"||r==="mir")&&e.jsx("td",{className:"p-2 border text-center",children:s.current_done}),r!=="delevery"&&r!=="report"&&r!=="qs"&&r!=="ir"&&r!=="mir"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"p-2 border text-center",children:[" ",s.previous_done]}),e.jsx("td",{className:"p-2 border text-center",children:s.current_done}),e.jsx("td",{className:"p-2 border text-center",children:s.total_done}),n.email!=="sherok@trustits.net"&&e.jsx("td",{className:"p-2 border text-center",children:s.unit_price}),e.jsxs("td",{className:"p-2 border text-center",children:[" ",s.progress_percentage," %"]}),n.email!=="sherok@trustits.net"&&e.jsx("td",{className:"p-2 border text-center",children:s.total})]})]},p)),r!=="delevery"&&r!=="report"&&r!=="qs"&&r!=="ir"&&r!=="mir"&&e.jsxs(U.Fragment,{children:[n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:["الإجمالى"," "]}),e.jsx("td",{className:"p-2 border text-center",children:c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),a==!0&&o>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:["ضريبه القيمه المضافة"," "]}),e.jsx("td",{className:"p-2 border text-center",children:o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),!g&&!a&&t.vat>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","الاجمالي بدون الضريبة المضافة ",t.vat,"%"," "]}),e.jsx("td",{className:"p-2 border text-center",children:d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),t.profit_tax>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ",v," ",t.profit_tax," ","% ضريبة"," "]}),e.jsx("td",{className:"p-2 border text-center",children:u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),t.social_insurance>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","تعليه التأمينات الاجتماعيه"," "]}),e.jsx("td",{className:"p-2 border text-center",children:b.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),t.advance_payment>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:["خصم دفعة مقدمة"," "]}),e.jsx("td",{className:"p-2 border text-center",children:t.advance_payment.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),m>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ",v," ",t.initial_insurance," ","% تامين اعمال"," "]}),e.jsx("td",{className:"p-2 border text-center",children:m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),h>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsx("td",{colSpan:9,className:"p-2 border text-center",children:"خصم ما سبق صرفه"}),e.jsx("td",{className:"p-2 border text-center",children:h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),x>0&&n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","ضرائب"," ",t.other_tax," ","%"," "]}),e.jsx("td",{className:"p-2 border text-center",children:x.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),n.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","صافي المستخلص"," "]}),e.jsx("td",{className:"p-2 border text-center",children:f.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"p-2 border text-right min-h-7",children:[" ","ملاحظات :",i.notes]})})]})]}),(r==="delevery"||r==="report")&&e.jsxs("div",{className:"mt-10",children:[e.jsx("p",{className:"tet-center",children:"تم استلام الموقع استلامًا ابتدائيًا مع وجود بعض الملاحظات البسيطة التي لا تعوق بدء الأعمال، على أن يتم تلافيها أثناء التنفيذ"}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"mt-9",children:[e.jsx("p",{children:"التسليم (شركة تراست)"}),e.jsx("p",{children:"الإسم : ....................."}),e.jsx("p",{children:"الوظيفة : ....................."}),e.jsx("p",{children:"التوقيع : ....................."})]}),e.jsxs("div",{className:"mt-9",children:[e.jsxs("p",{children:["المستلم (",N," )"]}),e.jsx("p",{children:"الإسم : ....................."}),e.jsx("p",{children:"الوظيفة : ....................."}),e.jsx("p",{children:"التوقيع : ....................."})]})]})]})]}),e.jsx("button",{onClick:()=>window.print(),className:"print:hidden fixed bottom-0 left-0 right-0 w-full bg-green-600 text-white py-2 rounded-xl hover:bg-green-700 transition",children:"طباعة"})]})})}export{P as default};
