import{a as l,j as s,b as m}from"./app-k5SopBD2.js";import{D as o}from"./DeleteButton-D-tvNa3M.js";import"./HandelDelete-dDVG80kK.js";function g({totalExpense:p,loans:d,children:n,role:u}){const t=l().props.auth.user,r=(t==null?void 0:t.rolesnames)??[],a=(e,i)=>{m.post(route("admin.loan.status"),{loan_id:e,status:i},{preserveScroll:!0,onSuccess:()=>{}})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6"}),s.jsxs("div",{className:"md:grid grid-cols-1 md:grid-cols-2 gap-6 px-4 py-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"السلف"}),s.jsx("ul",{className:"bg-white p-4 rounded shadow",children:Array.isArray(d)&&d.length>0&&d.map((e,i)=>s.jsxs("li",{className:"border-b py-2",children:[s.jsxs("div",{children:["📅 ",e.loan_date]}),s.jsxs("div",{children:["💸 ",e.amount," ج"]}),s.jsxs("div",{children:["📝 ",e.reason]}),s.jsxs("div",{children:["📌 الحالة: ",e.admin_status==="pending"?"قيد الانتظار":e.admin_status==="approved"?"موافقة":e.admin_status==="rejected"?"مرفوضة":e.admin_status]}),["admin","acc","hr"].some(c=>r==null?void 0:r.includes(c))&&s.jsxs(s.Fragment,{children:[s.jsx(o,{id:e.id,routeName:"loan.delete"}),e.status==="pending"&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:()=>a(e.id,"approved"),className:"bg-green-100 p-1.5",children:"موافقة"}),s.jsx("button",{onClick:()=>a(e.id,"declined"),className:"bg-red-100 p-1.5",children:"رفض"})]})]})]},i))})]}),n]})]})}export{g as default};
