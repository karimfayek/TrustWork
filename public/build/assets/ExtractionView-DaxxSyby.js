import{a as w,j as e,L,R as U}from"./app-Bq7a2C23.js";import{A as q}from"./ApplicationLogo-Dq07tn3e.js";import{A as R}from"./AuthenticatedLayout-BfBN8nib.js";import"./ResponsiveNavLink-DbPuH3OT.js";import"./transition-DnCWSvtv.js";function P({project:j,extraction:n}){const i=w().props.auth.user,t=n.type,g=n.supply,a=n.isnotinclusive,y=n.partial_number,_=n.date,N=j.customer_name,F=j.project_code,l=n.items,r=n.deductions_json,c=l.reduce((s,p)=>s+parseFloat(p.total),0),d=a?c:!g&&r.vat>0?c/1.05:c,o=a?0:d/100*r.vat,u=d/100*r.profit_tax,b=c/100*r.social_insurance,m=c/100*r.initial_insurance,x=c/100*r.other_tax,h=r.previous_payments,S=r.advance_payment,v=a?"":"خصم",f=a?c-u-b-m-h-S+o+x:o+d-u-b-m-x-h-S,D={partial:"جاري ",final:" ختامي",supply:" جارى تشوينات",delevery:"  اذن تسليم",ir:" IR",mir:" MIR",qs:" QS"};return console.log(t!=="delevery","type"),e.jsx(R,{children:e.jsxs("div",{className:" mx-auto bg-white p-6 rounded-2xl  text-gray-800",children:[e.jsx(L,{href:"/",children:e.jsx(q,{className:"float-left w-[8rem]"})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"اسم المشروع:"})," ",j.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"اسم العميل:"})," ",N]}),e.jsxs("p",{children:[e.jsx("strong",{children:"كود المشروع:"})," ",F]}),t==="delevery"&&e.jsxs("p",{children:[e.jsx("strong",{children:" سيريال:"})," ",n.id]}),t!=="delevery"&&t!=="report"&&t!=="qs"&&t!=="ir"&&t!=="mir"&&e.jsxs("p",{children:[e.jsx("strong",{children:" مستخلص:"})," ",D[t]," ",e.jsx("i",{children:y})," ",n.supply===1&&e.jsx("i",{children:"تشوينات"})," "]}),t==="delevery"&&e.jsxs("p",{className:"text-center text-xl",children:[e.jsx("strong",{children:" اذن تسليم"})," "]}),t==="report"&&e.jsxs("p",{className:"text-center text-xl",children:[e.jsx("strong",{children:" محضر تسليم "})," "]}),t==="site_receipt"&&e.jsxs("p",{className:"text-center text-xl",children:[e.jsx("strong",{children:" محضر استلام موقع "})," "]}),e.jsxs("p",{children:[e.jsx("strong",{children:"تاريخ الطلب:"})," ",_]})]}),e.jsxs("div",{className:"mb-[100px]",children:[e.jsx("h2",{className:"text-xl font-semibold border-b pb-2 mb-2",children:"البنود"}),e.jsxs("table",{className:"min-w-full border border-gray-300 text-sm",children:[e.jsxs("thead",{className:"bg-gray-100",children:[e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"م"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"بيان الأعمال"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"الوحــدة"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"كمية العقد"}),(t==="delevery"||t==="report"||t==="site_receipt"||t==="mir")&&e.jsx(e.Fragment,{children:e.jsxs("th",{className:"p-2 border",colSpan:"3",children:[(t==="delevery"||t==="report"||t==="site_receipt")&&e.jsx(e.Fragment,{children:"كميه التسليم"}),t==="mir"&&e.jsx(e.Fragment,{children:"كميه الفحص"})]})}),t!=="delevery"&&t!=="report"&&t!=="site_receipt"&&t!=="qs"&&t!=="ir"&&t!=="mir"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"p-2 border",colSpan:"3",children:"الكمية"}),i.email!=="sherok@trustits.net"&&e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"الفئة"}),e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"نسبة الصرف"}),i.email!=="sherok@trustits.net"&&e.jsx("th",{className:"p-2 border",rowSpan:"2",children:"إجمالي المبلغ"})]})]}),t!=="delevery"&&t!=="report"&&t!=="site_receipt"&&t!=="qs"&&t!=="ir"&&t!=="mir"&&e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",children:" السابق"}),e.jsx("th",{className:"p-2 border",children:" الحالي"}),e.jsxs("th",{className:"p-2 border",children:[" ","الإجمالي"]})]})]}),e.jsxs("tbody",{children:[l==null?void 0:l.map((s,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border text-right",children:p+1}),e.jsx("td",{className:"p-2 border text-right",children:s.title}),e.jsx("td",{className:"p-2 border text-center",children:s.unit==="meter"?"MTR":s.unit==="number"?"NUM":s.unit==="ls"?"LS":s.unit}),e.jsx("td",{className:"p-2 border text-center",children:Number(s.quantity).toFixed(0)}),(t==="delevery"||t==="report"||t==="site_receipt"||t==="mir")&&e.jsx("td",{className:"p-2 border text-center",children:s.current_done}),t!=="delevery"&&t!=="report"&&t!=="site_receipt"&&t!=="qs"&&t!=="ir"&&t!=="mir"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"p-2 border text-center",children:[" ",s.previous_done]}),e.jsx("td",{className:"p-2 border text-center",children:s.current_done}),e.jsx("td",{className:"p-2 border text-center",children:s.total_done}),i.email!=="sherok@trustits.net"&&e.jsx("td",{className:"p-2 border text-center",children:s.unit_price}),e.jsxs("td",{className:"p-2 border text-center",children:[" ",s.progress_percentage," %"]}),i.email!=="sherok@trustits.net"&&e.jsx("td",{className:"p-2 border text-center",children:s.total})]})]},p)),t!=="delevery"&&t!=="report"&&t!=="site_receipt"&&t!=="qs"&&t!=="ir"&&t!=="mir"&&e.jsxs(U.Fragment,{children:[i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:["الإجمالى"," "]}),e.jsx("td",{className:"p-2 border text-center",children:c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),a==!0&&o>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:["ضريبه القيمه المضافة"," "]}),e.jsx("td",{className:"p-2 border text-center",children:o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),!g&&!a&&r.vat>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","الاجمالي بدون الضريبة المضافة ",r.vat,"%"," "]}),e.jsx("td",{className:"p-2 border text-center",children:d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),r.profit_tax>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ",v," ",r.profit_tax," ","% ضريبة"," "]}),e.jsx("td",{className:"p-2 border text-center",children:u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),r.social_insurance>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","تعليه التأمينات الاجتماعيه"," "]}),e.jsx("td",{className:"p-2 border text-center",children:b.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),r.advance_payment>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:["خصم دفعة مقدمة"," "]}),e.jsx("td",{className:"p-2 border text-center",children:r.advance_payment.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),m>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ",v," ",r.initial_insurance," ","% تامين اعمال"," "]}),e.jsx("td",{className:"p-2 border text-center",children:m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),h>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsx("td",{colSpan:9,className:"p-2 border text-center",children:"خصم ما سبق صرفه"}),e.jsx("td",{className:"p-2 border text-center",children:h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),x>0&&i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","ضرائب"," ",r.other_tax," ","%"," "]}),e.jsx("td",{className:"p-2 border text-center",children:x.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]}),i.email!=="sherok@trustits.net"&&e.jsxs("tr",{children:[e.jsxs("td",{colSpan:9,className:"p-2 border text-center",children:[" ","صافي المستخلص"," "]}),e.jsx("td",{className:"p-2 border text-center",children:f.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]}),e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"p-2 border text-right min-h-7",children:[" ","ملاحظات :",n.notes]})})]})]}),(t==="delevery"||t==="report"||t==="site_receipt")&&e.jsxs("div",{className:"mt-10",children:[t==="site_receipt"&&e.jsx("p",{className:"tet-center",children:"تم استلام الموقع استلامًا ابتدائيًا مع وجود بعض الملاحظات البسيطة التي لا تعوق بدء الأعمال، على أن يتم تلافيها أثناء التنفيذ"}),t==="report"&&e.jsx("p",{className:"tet-center",children:"تم تسليم واستلام البضاعه وفقا لما هو موضح عالية بالمواصافت والكميات المذكورة"}),e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"mt-9",children:[e.jsx("p",{children:"التسليم (شركة تراست)"}),e.jsx("p",{children:"الإسم : ....................."}),e.jsx("p",{children:"الوظيفة : ....................."}),e.jsx("p",{children:"التوقيع : ....................."})]}),e.jsxs("div",{className:"mt-9",children:[e.jsxs("p",{children:["المستلم (",N," )"]}),e.jsx("p",{children:"الإسم : ....................."}),e.jsx("p",{children:"الوظيفة : ....................."}),e.jsx("p",{children:"التوقيع : ....................."})]})]})]})]}),e.jsx("button",{onClick:()=>window.print(),className:"print:hidden fixed bottom-0 left-0 right-0 w-full bg-green-600 text-white py-2 rounded-xl hover:bg-green-700 transition",children:"طباعة"})]})})}export{P as default};
