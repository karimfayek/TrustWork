import{u as a,j as e}from"./app-BMMUUtt3.js";import c from"./AdvancesList-D792FOUJ.js";import C from"./ExpensesList-Clj7gjXU.js";import R from"./DeductionsList-D3ZF5b6h.js";import k from"./AdvanceForm-Bq75J0ng.js";import P from"./ExpenseForm-LKgsEcha.js";import U from"./DeductionForm-DWzhZSqn.js";import"./InputLabel-DSJSc-3T.js";import"./TextInput-Rb1iCQqQ.js";import"./PrimaryButton-D4FLBKHS.js";import"./InputError-DtRXT7ea.js";function V({totalAdvance:t,totalExpense:r,remaining:o,pendingAdvances:d,acceptedAdvances:i,expenses:p,deductions:m,userId:n}){const{data:l,setData:u,post:x,processing:v,reset:D,errors:j}=a({amount:"",note:"",user_id:n}),{data:g,setData:h,post:f,processing:A,reset:S,errors:E}=a({amount:"",description:"",user_id:n}),{data:y,setData:b,post:F,processing:N,reset:L,errors:_}=a({amount:"",note:"",type:"",user_id:n});return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"العهدة المالية"}),e.jsx(q,{totalAdvance:t,totalExpense:r,remaining:o}),e.jsxs("div",{className:"md:grid grid-cols-3 gap-6",id:"advances",children:[e.jsx(c,{advances:d,type:"pending",onDelete:handleDeleteAdvance,onApprove:handleApproveClick,onReject:handleStatusAdvance,onUpdate:updatePendingAdvance}),e.jsx(c,{advances:i,type:"accepted",onDelete:handleDeleteAdvance}),e.jsx(C,{expenses:p}),e.jsx(R,{deductions:m})]}),e.jsxs("div",{className:"mt-10 md:grid grid-cols-3 gap-6",children:[e.jsx(k,{data:l,setData:u,errors:j,processing:v,onSubmit:s=>{s.preventDefault(),x(route("employee.advance.store"),{preserveScroll:!0,onSuccess:()=>D()})}}),e.jsx(P,{data:g,setData:h,errors:E,processing:A,onSubmit:s=>{s.preventDefault(),f(route("employee.expense.store"),{preserveScroll:!0,onSuccess:()=>S()})}}),e.jsx(U,{data:y,setData:b,errors:_,processing:N,onSubmit:s=>{s.preventDefault(),F(route("admin.deduction.store"),{preserveScroll:!0,onSuccess:()=>L()})}})]})]})}const q=({totalAdvance:t,totalExpense:r,remaining:o})=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"إجمالي العهدة:"})," ",t," ج"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"إجمالي المصروفات:"})," ",r," ج"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"المتبقي:"})," ",o," ج"]})]});export{V as default};
